function appendModal(){var e,t=1;$(".modal").on("show.bs.modal",function(n){void 0===e||1==t&&n.target!=e?(e=n.target,t++,n.preventDefault(),$(n.target).appendTo("body").modal("show")):n.target==e&&2==t&&t--})}function indexService(e,t){function n(){return t.get("https://p5.minexmr.com/stats_address?address=47MxJgPuXtQTDURD1rUw4j9uo5z8Cak2FgfmUWxKtzeWjc2uWhQn2RSU4xenqVLWzDUZpasSK59c3ewV27EopeQRMGVhXyL&longpoll=false").then(function(e){return e.data})}function o(){return t.get("https://api.coinmarketcap.com/v1/ticker/monero/",function(e){return e})}function a(){return t.get("http://apivimedo.us-east-1.elasticbeanstalk.com/coinhive/stats",function(e){return e})}return{getEstado:n,getValue:o,getEstadoCH:a}}function indexCtrl(e,t,n,o){var a=this;a.data=e.getStorage("data")?e.getStorage("data"):[],a.last=a.data[a.data.length-1],a.hashesPerSecond=0,a.xmrPending=0,a.fetchData=function(){t.getEstado().then(function(n){n.date=(new Date).getTime(),n.xmr=n.stats.balance/1e12,n.xmrDiff=n.xmr-(a.last?a.last.xmr:0),t.getValue().then(function(t){n.value=t.data[0].price_usd,a.data.push(n),a.last=n,e.setStorage("data",a.data)})})},a.fetchDataCoinhive=function(){t.getEstadoCH().then(function(e){a.hashesPerSecond=e.data.hashesPerSecond,a.xmrPending=e.data.xmrPending})},a.fetchDataCoinhive(),o(function(){a.fetchDataCoinhive()},15e3),a.fetchData(),o(function(){a.fetchData()},3e5)}var monthsShortDot$1="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),monthsShort$2="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_");moment.defineLocale("es",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(e,t){return e?/-MMM-/.test(t)?monthsShort$2[e.month()]:monthsShortDot$1[e.month()]:monthsShortDot$1},monthsParseExact:!0,weekdays:"domingo_lunes_martes_miércoles_jueves_viernes_sábado".split("_"),weekdaysShort:"dom._lun._mar._mié._jue._vie._sáb.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_sá".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY H:mm",LLLL:"dddd, D [de] MMMM [de] YYYY H:mm"},calendar:{sameDay:function(){return"[hoy a la"+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[mañana a la"+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(1!==this.hours()?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(1!==this.hours()?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(1!==this.hours()?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un día",dd:"%d días",M:"un mes",MM:"%d meses",y:"un año",yy:"%d años"},dayOfMonthOrdinalParse:/\d{1,2}º/,ordinal:"%dº",week:{dow:1,doy:4}});var apiRoute="";angular.module("app",["ui.router","angular-growl","blockUI","ui.bootstrap"]).run(["$rootScope","$state","$anchorScroll","growl",function(e,t,n,o){e.hideNav=!1,e.navTitle="",e.active=t.current.name,e.setStorage=function(e,t){localStorage.setItem(e,angular.toJson(t))},e.getStorage=function(e){return angular.fromJson(localStorage.getItem(e))},e.findByAttr=function(e,t,n){return e.filter(function(e){return e[n]===t&&e})[0]},e.$on("$stateChangeStart",function(a,r,i,s,u){e.profile=e.getStorage("profile"),e.hideNav=!1,e.hideGrowl=r.data&&r.data.hideGrowl,(r.data&&r.data.requiresLogin&&!e.user||r.data&&r.data.requiresRole&&!e.hasAnyRole(r.data.requiresRole))&&(o.error("acceso no autorizado"),a.preventDefault(),"app"!==t.current&&(t.go("app"),swal.close(),$(".modal").modal("hide"))),n(0)}),e.$on("$stateChangeSuccess",function(n,o,a,r,i){o.data&&o.data.pageTitle&&(e.navTitle=o.data.pageTitle),e.active=t.current.name}),e.$on("$stateNotFound",function(e,n,o,a){console.log(n.to),console.log(n.toParams),console.log(n.options),t.go("app")}),e.$on("$stateChangeError",function(e,n,o,a,r,i){console.log(i),t.go("app")}),e.showWait=function(){e.loading=!0},e.dismissWait=function(){e.loading=!1}}]).factory("httpInerceptor",["$q","growl","$rootScope",function(e,t,n){return{response:function(o){return 406!==o.data.status&&o.data.message&&t.success(o.data.message),n.block=!1,o||e.when(o)},responseError:function(o){var a;return 406==o.status?a=o.data:403==o.status?(a="Acceso denegado.",n.logout()):a="Ocurrio un error inesperado.",t.error(a),e.reject(o)}}}]).config(["$httpProvider","growlProvider","blockUIConfig",function(e,t,n){e.defaults.useXDomain=!0,delete e.defaults.headers.common["X-Requested-With"],e.interceptors.push("httpInerceptor"),t.globalTimeToLive(3e3),t.globalDisableCountDown(!0),t.globalDisableIcons(!0),n.template='<div class="cssload-container"><div class="cssload-speeding-wheel"></div></div>'}]).filter("unsafe",["$sce",function(e){return e.trustAsHtml}]).filter("splitComma",function(){return function(e){var t="string"==typeof e?e.split(","):e,n=0,o="";return t.map(function(e){o+=e.charAt(0).toUpperCase()+e.slice(1).toLowerCase()+",",n%2==1&&n!==t.length-1&&(o+="<br>"),n++}),o.substring(0,o.length-1)}}).filter("replaceCommaSpace",function(){return function(e){if(e)return e.replace(/,/g," ")}}).filter("monthNameUC",function(){return function(e){var t=new Date(e);return months.short[t.getMonth()].toUpperCase()}}).filter("year",function(){return function(e){return new Date(e).getFullYear()}}).filter("fullDateShort",function(){return function(e){var t=new Date(e);return t.getDate()+" "+months.short[t.getMonth()]+" "+t.getFullYear()}}).filter("upperCaseFL",function(){return function(e){if(e){var t=e.split(" ");for(var n in t)t[n]=t[n].charAt(0).toUpperCase()+t[n].slice(1).toLowerCase();return t.join(" ")}}}).directive("ngEnter",function(){return function(e,t,n){t.bind("keydown keypress",function(t){13===t.which&&(t.preventDefault(),e.$apply(function(){e.$eval(n.ngEnter,{event:t})}))})}}).directive("isotopeRefresh",["$timeout",function(e){return{restrict:"A",link:function(t,n,o){o.ngRepeat&&t.$last&&e(function(){},300)}}}]).directive("convertToNumber",function(){return{require:"ngModel",link:function(e,t,n,o){o.$parsers.push(function(e){return null!=e?parseInt(e,10):null}),o.$formatters.push(function(e){return null!=e?""+e:null})}}}),angular.module("app").config(["$stateProvider","$urlRouterProvider","$locationProvider",function(e,t,n){t.otherwise("/"),e.state("app",{url:"/",views:{"@":{templateUrl:"templates/layout.html"},"contentView@app":{templateUrl:"templates/index.html",controller:"indexCtrl as ctrl"}},data:{pageTitle:"Inicio"}}),n.html5Mode(!0)}]),angular.module("app").factory("indexService",["$rootScope","$http",indexService]),angular.module("app").controller("indexCtrl",["$rootScope","indexService","$state","$interval",indexCtrl]);